# 📥 データインポート機能ガイド

## 🎯 概要

HR Talent Dashboardには、企業データ、案件データ、コンタクトデータをCSVファイルから一括インポートする機能が搭載されています。

## ✨ 新機能

### 📋 サンプルCSVダウンロード機能
- **企業データサンプル**: 適切な企業情報のフォーマット
- **案件データサンプル**: 求人案件のフォーマット  
- **コンタクトデータサンプル**: 人材コンタクト情報のフォーマット

### 🔧 カラムマッピング機能
- CSVの列名を自動検出
- フレキシブルなカラムマッピング
- データプレビュー機能

## 📊 対応データ形式

### 🏢 企業データ
| 必須項目 | オプション項目 |
|----------|---------------|
| 企業名 | 業種, TG部署, HPサーチ, KWサーチ, Eightサーチ, LinkedIn, メアドサーチ |

**サンプルデータ:**
```csv
企業名,業種,TG部署,HPサーチ,KWサーチ,Eightサーチ,LinkedIn,メアドサーチ
株式会社サンプルIT,IT・情報通信業,システム開発部,済,済,未,未,済
サンプル商事株式会社,卸売業・小売業,営業部,未,済,済,未,未
株式会社サンプル製造,製造業,生産管理部,済,未,未,済,未
```

### 🎯 案件データ
| 必須項目 | オプション項目 |
|----------|---------------|
| 企業名, 案件名, ステータス | 契約開始日, 契約終了日, 契約人数, 担当CO, 担当RE, 業務内容, 人材要件, 雇用形態, レイヤー, 勤務地, 年齢下限, 年齢上限, 学歴, 必要資格, 紹介用職業分類 |

**サンプルデータ:**
```csv
企業名,案件名,ステータス,契約開始日,契約終了日,契約人数,担当CO,担当RE
株式会社サンプルIT,Webシステム開発エンジニア,OPEN,2024/04/01,2024/12/31,3,田中,鈴木
サンプル商事株式会社,営業マネージャー,OPEN,2024/05/01,2025/03/31,1,佐藤,高橋
株式会社サンプル製造,生産管理スペシャリスト,CLOSED,2024/03/01,2024/12/31,2,山田,渡辺
```

### 👥 コンタクトデータ
| 必須項目 | オプション項目 |
|----------|---------------|
| 企業名, 氏名 | 部署, 役職, メール, 電話番号, 年齢, 優先度, 担当者, スクリーニング状況 |

**サンプルデータ:**
```csv
企業名,氏名,部署,役職,メール,電話番号,年齢,優先度,担当者,スクリーニング状況
株式会社サンプルIT,山田太郎,システム開発部,部長,yamada@sample-it.co.jp,03-1234-5678,45,高,田中,未実施
サンプル商事株式会社,佐藤花子,営業部,マネージャー,sato@sample-trade.com,03-2345-6789,38,中,佐藤,実施済み
株式会社サンプル製造,田中次郎,生産管理部,スペシャリスト,tanaka@sample-mfg.co.jp,045-3456-7890,42,高,山田,実施中
```

## 🚀 使用方法

### ステップ 1: サンプルCSVをダウンロード
1. データインポートページにアクセス
2. 対象データ種別のサンプルCSVをダウンロード
3. フォーマットを確認

### ステップ 2: 重複処理設定
重複データの処理方法を選択してください：

- **🔄 重複を許可（すべて登録）**: 同じデータでも重複して登録（デフォルト）
- **⏭️ 重複をスキップ（新規のみ登録）**: 既存データと同じ場合はスキップ
- **🔄 重複を更新（既存データを更新）**: 既存データを新しい情報で上書き

**重複判定基準:**
- 🏢 **企業**: 企業名で判定
- 🎯 **案件**: 企業名 + 案件名で判定
- 👥 **コンタクト**: 企業名 + 氏名で判定

### ステップ 3: データ準備
1. サンプルCSVを参考に、自社データを準備
2. 必須項目を必ず含める
3. 日付は `YYYY/MM/DD` または `YYYY-MM-DD` 形式

### ステップ 4: インポート実行
1. 対象タブを選択（企業/案件/コンタクト）
2. CSVファイルをアップロード
3. データプレビューで内容確認
4. カラムマッピングを設定
5. インポートボタンをクリック

## ⚠️ 注意事項

### データ依存関係
- **案件データ**: 先に対応する企業データをインポートする必要があります
- **コンタクトデータ**: 先に対応する企業データをインポートする必要があります

### データ形式要件
- **日付**: `YYYY/MM/DD` または `YYYY-MM-DD` 形式
- **数値**: 整数または小数点数
- **文字エンコーディング**: UTF-8推奨

### エラー対処
- 企業が見つからない場合: 先に企業データをインポートしてください
- 形式エラー: サンプルCSVと同じ形式であることを確認してください
- 文字化け: ファイルをUTF-8形式で保存し直してください

## 📈 インポート後の確認

### データ確認方法
1. 各管理画面でインポートしたデータを確認
2. ダッシュボードで統計情報を確認
3. 検索・フィルター機能でデータの整合性を確認

### トラブルシューティング
- インポートに失敗した場合は、エラーメッセージを確認
- 部分的にインポートされた場合は、残りのデータを再実行
- データベース接続エラーの場合は、システム管理者に連絡

---

## 🔧 技術情報

### 対応ファイル形式
- **.csv** (UTF-8, UTF-8 BOM対応)

### インポート処理
- 空行は自動的にスキップ
- 重複チェックなし（同じデータは重複して登録されます）
- エラー行はスキップして処理を継続

### データ変換
- 日付の自動変換機能
- 数値の自動変換機能
- マスタデータとの自動マッピング（優先度、担当者等）

---

💡 **ヒント**: 大量データのインポート前には、少数のサンプルデータで動作確認することをお勧めします。